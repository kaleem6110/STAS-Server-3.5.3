import java.io.IOException;
import java.util.Properties;

import com.enterprisehorizons.magma.services.WebserviceRESTHandler;
import com.enterprisehorizons.util.URLUtils;
import com.spacetimeinsight.magma.server.security.util.CryptoUtils;


public class Synchronizing {

	public static void main (String args[]){
		Properties props = new Properties();
		props.put("syncXML", URLUtils.encode("<?xml version=\"1.0\" encoding=\"UTF-8\"?><synchronize hostname=\"WIN-2S1F0KB9DI7_8080\" traceById=\"false\"><rubberbandregions><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"test\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_Aditya2\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_Luis\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"isl airport\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"ahsan test\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"ahsan module test\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_Aleks_May06\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_21\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_MA_Aleks playing\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_ADtesting001\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_SZ_007\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionTypeId=\"0\" regionName=\"Staff Tracking_DZ_AhsanTest\" coordinates=\"72.72185516357422,32.64226531982422,0.0 72.80274200439453,32.389469146728516,0.0 73.03948211669922,32.58047866821289,0.0\" viewPort=\"0qj0mG2o23NAsrqpTgyGAB\" startDate=\"null\" endDate=\"null\" ecoexpmlIds=\"\" refreshInterval=\"0\" listType=\"null\" status=\"New\" syncType=\"Add\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionTypeId=\"0\" regionName=\"ahsan test\" coordinates=\"71.3274993896484,32.6215286254883,0 70.9853668212891,32.2697486877441,0 71.4528198242188,32.2230415344238,0 71.6127471923828,31.9391269683838,0 71.7577819824219,32.1649856567383,0\" viewPort=\"0w6o6E6_4yKA6ksB-gHAA\" startDate=\"null\" endDate=\"null\" ecoexpmlIds=\",\" refreshInterval=\"0\" listType=\"moduleList\" status=\"New\" syncType=\"Update\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_1\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_15\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_16\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Region Name\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff_tracking_DZ_20\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"adulovic\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_AleksMay06\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"ahsan STAS test\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"adulovic\" moduleName=\"Spatial View\" regionTypeId=\"0\" regionName=\"Staff Tracking_DZ_1\" coordinates=\"55.022022247314446,24.892457962036133,0.0 55.04184341430664,24.831672668457027,0.0 55.14756774902343,24.89459800720215,0.0 55.11497497558594,24.935588836669922,0.0\" viewPort=\"0m6q3Eyu-wKAivtcowGoKB\" startDate=\"null\" endDate=\"null\" ecoexpmlIds=\"\" refreshInterval=\"0\" listType=\"userList\" status=\"New\" syncType=\"Add\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"test1\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"adulovic\" moduleName=\"Spatial View\" regionTypeId=\"0\" regionName=\"Staff Tracking_MA_1\" coordinates=\"55.02843475341796,24.921670913696285,0.0 55.04670715332032,24.84779357910156,0.0 55.11699295043945,24.869592666625976,0.0 55.08409118652344,24.925325393676758,0.0\" viewPort=\"06343E0yqwKA0knHmwGoKB\" startDate=\"null\" endDate=\"null\" ecoexpmlIds=\"\" refreshInterval=\"0\" listType=\"userList\" status=\"New\" syncType=\"Add\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"test rome2\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"test rome\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_2\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionTypeId=\"0\" regionName=\"Staff Tracking_DZ_Danger Zone1\" coordinates=\"55.071189880371094,24.89496612548828,0.0 55.07120132446289,24.894531250000003,0.0 55.07162857055665,24.894590377807617,0.0 55.07170867919921,24.894989013671875,0.0\" viewPort=\"04n-3EwkkwKA8vC-gHAA\" startDate=\"null\" endDate=\"null\" ecoexpmlIds=\"\" refreshInterval=\"0\" listType=\"null\" status=\"New\" syncType=\"Add\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"Straff_Tracking_SZ_Bigger Rectangle\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_DZ_Pakistan\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"avelala\" moduleName=\"Spatial View\" regionName=\"test 24-1\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion userUniqueId=\"isl_sec\" moduleName=\"Spatial View\" regionName=\"geofence mine\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Test zone Karashi\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"staff tracking_dz1\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"ahsan STAS module test\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/><rubberbandregion moduleName=\"Spatial View\" regionName=\"Staff Tracking_MA_TestPakistan\" status=\"New\" syncType=\"Delete\" isServerRecord=\"false\"/></rubberbandregions><riskzones/><geofencerules><geofencerule name=\"Staff Tracking_DZ_16\" subject=\"Test: Subject\" body=\"Test Body\" recurPerDay=\"0\" triggerTime=\"0\" startDateTime=\"2012-05-01T00:00:00.000Z\" endDateTime=\"2012-05-02T23:59:59.000Z\" synctype=\"Add\" isServerRecord=\"false\"/><geofencerule name=\"Staff Tracking_DZ_1\" subject=\"Subject\" body=\"ZBody\" recurPerDay=\"30\" triggerTime=\"12\" startDateTime=\"2012-04-03T20:42:12.000Z\" endDateTime=\"2012-06-12T12:43:12.000Z\" synctype=\"Update\" isServerRecord=\"false\"/><geofencerule name=\"Staff Tracking_DZ_Danger Zone1\" subject=\"High Alert: Storm in the city\" body=\"Dear Officer, As there is a storm in the city. Please be in safe zone. nks &amp; Regards EPIC Team\" recurPerDay=\"0\" triggerTime=\"0\" startDateTime=\"2012-05-11T00:00:00.000Z\" synctype=\"Add\" isServerRecord=\"false\"/></geofencerules></synchronize>"));  //encode the string to url compatible
		props.put("loginId", URLUtils.encode(CryptoUtils.encrypt(null, "synchronizationAdmin")));  //encode loginId to url compatible
		props.put("password", URLUtils.encode(CryptoUtils.encrypt(null, "synchronizationAdmin")));  //encode password to url compatible
		
		try {
			WebserviceRESTHandler.sendRequest("http://sti-qa.globalepic.lu/stas/GzipServlet", props, "POST");
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
